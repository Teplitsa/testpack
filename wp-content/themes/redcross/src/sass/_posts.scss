/** Main styles for content objects **/

/** Commons **/
.thumbnail-link { display: block; }
.sep { padding: 0 4px; }

.fixed-top {
	position: fixed;
	top: 86px;
}

.fixed-bottom {
	position: absolute;
	bottom: 0;				
}


/**  Cards Structure **/


.cards-loop {
	display: flex;
	flex-flow: row wrap;	
	align-items: stretch;
	margin: 0 $gut/2;
	
	@include for(xxlarge-screens) {
		margin: 0 -1*$gut/2;
	}
	
	.card {
		margin: 0 $gut/2 $gut;
		@include calc(width, '100% - 30px');	
	}
	
	@include for(small-screens) {
		&.sm-cols-2 {			
			.card {
				@include calc(width, '50% - 30px');				
			}
		}
	}
	
	@include for(medium-screens) {
		&.md-cols-2 {			
			.card {
				@include calc(width, '50% - 30px');				
			}
		}
		
		&.md-cols-3 {			
			.card {
				@include calc(width, '33.3% - 30px');				
			}
		}
	}
	
	@include for(large-screens) {
		&.lg-cols-2 {			
			.card {
				@include calc(width, '50% - 30px');				
			}
		}
		
		&.lg-cols-3 {			
			.card {
				@include calc(width, '33.3% - 30px');				
			}
		}
		
		&.lg-cols-4 {			
			.card {
				@include calc(width, '25% - 30px');				
			}
		}
	}
	
	@include for(exlarge-screens) {
		&.exlg-cols-5 {			
			.card {
				@include calc(width, '20% - 30px');				
			}
		}
				
		&.exlg-cols-4 {			
			.card {
				@include calc(width, '25% - 30px');				
			}
		}
	}
	
	.squared & {
		margin: 0 -1*$gut/2;
	}
}


/** News **/
@mixin post-meta() {
	@include nav-text(meta);
	display: inline-block;
	background: $color-text-black;
	color: $color-white;
	padding: 4px 8px;
	
	a {
		color: inherit;
		&:hover { text-decoration: underline; }
	}
}

@mixin shadowed-preview {
	width: 100%;
	position: relative;
	z-index: 1;
	
	img {
		position: relative;
		width: 100%;
		z-index: 2;
	}
	
	&:after {
		content: '';
		display: block;
		position: absolute;
		top: 0;
		left: 0;
		width: 100%;
		height: 100%;
		background: rgba(0,0,0, 0);
		z-index: 10;
		@include transition(all 0.35s);
	}	
}


.tpl-post {
	background: $color-white;
	@include transition(all 0.3s);
		
	&:hover {
		background: $color-secondary-alt;
		.entry-preview:after { background: rgba(0,0,0, 0.3); }
	}	
	
	a {
		display: block;
		height: 100%;
	}
	
	.entry-data {
		padding: 0 $base $base;
		position: relative;
	}
	
	.entry-preview {
		@include shadowed-preview();
	}
	
	.entry-meta {
		@include post-meta();
		font-size: 14px;
		position: absolute;
		top: 0;
		@include transform(translateY(-110%));
		z-index: 100;
	}
	
	.entry-title {
		@include post-title();
		margin-bottom: $base*0.75;				
		padding-top: $base;
		@include hyphens(auto);
	}
	
	.entry-summary {
		@include body-text(summary);
		color: $color-text;
	}
	
}

.tpl-featured-action,
.tpl-featured {	
	position: relative;
	width: 100%;
	overflow: hidden;
	@include transition(all 0.8s);
	
	
	.container { z-index: 100;	}
	
	.bg {
		display: block;
		width: 100%;
		height: 100%;
		position: absolute;
		top: 0;
		left: 0;
		background-repeat: no-repeat;
		background-size: cover;
		background-position: center top;
		@include transition(all 0.8s ease-in);
		z-index: 5;
	}
}

.featured-body {
	min-height: 60vh;
	height: 100%;
	display: flex;
	flex-flow: row nowrap;
	
	.featured-content {
		display: block;
		margin: $base -1*$gut/2;
		padding: $gut/2;
		max-width: 640px;
		color: $color-white;
		align-self: flex-end;
		@include transition(all 0.3s);	
		
	}
		
	.entry-meta {
		@include post-meta();
	}
	
	.entry-title {
		@include header-title(section);		
		margin-bottom: $base*1.5;
		margin-top: 4px;
		@include hyphens(auto);
	
		span, a {
			margin-left: 8px;
			background: $color-white;
			color: $color-text-black;
			display: inline;
			box-shadow: 8px 0 0 $color-white, -8px 0 0 $color-white;
			box-decoration-break: clone;
			
			&:hover {
				background: $color-link-two;
				color:$color-white;
				box-shadow: 8px 0 0 $color-link-two, -8px 0 0 $color-link-two;
			}
		}
	}
	
	.entry-summary {
		@include sub-title();
		color: transparentize($color-white, 0.12);
		@include transition(all 0.3s);
		padding: $gut/2;
		background: rgba(0,0,0, 0.6);
	}
	
	.cta {
		margin-top: $base;
		a {
			@include button();
		}
	}
	
	a.featured-content:hover {
		background: rgba(0,0,0, 0.65);
		
		.entry-title span, .entry-title span:hover,
		.entry-title a, .entry-title a:hover {
			background: transparent;
			color: $color-white;
			box-shadow:none;
		}
		
		.entry-summary {
			background: transparent;
		}
		
		.entry-meta { background: transparent; }
	}
}

.tpl-featured {
	.featured-body .entry-title { 
		@include post-title(featured);
	}
	.featured-body  .featured-content {
		max-width: 760px;					
	}
}


//paging
.paging {
	padding: $base/2 0;
	background: $color-white;
	text-align: center;
	
	nav {
		border-top: 1px solid $color-border-normal;
		border-bottom: 1px solid $color-border-normal;
		padding: $base/2;
	}
	.page-numbers {
		@include nav-text();
		display: inline-block;
		color: $color-text-light;
		padding: 8px 12px;
		@include transition(all 0.3s);
		
		&:hover, &:focus, &:active {
			color: $color-white;
			background: $color-link-two;
		}
		&.current {
			color: $color-white;
			background: $color-text;
		}
	}
	
	&:empty { display: none; }
}


/* Related section */
.related-card-holder {
	.related-title {
		@include header-title(head_title);
		margin-bottom: $base;
		text-align: center;		
	}
	
	.related-all-link {
		text-align: center;
		padding-bottom: $gut;
		color: $color-link-three;
		
		a {
			@include nav-text(meta);
			padding: 14px 24px;
			font-size: 16px;
			line-height: 18px;
			color: $color-text-black;			
			text-align: center;
			
			&:hover, &:focus, &:active {
				color: $color-white;
				background: $color-text-black;	
			}
		}
		
		margin-top: $gut;
		@include for(medium-screens) {
			margin-top: 0;
		}
	}
}

.related-cards-loop {
	.card {
		margin: 0;
	}
	
	@include for(medium-screens) {
		margin: 0 $gut/2;
		display: flex;
		flex-flow: row wrap;
		justify-content: space-between;
		
		.card {
			margin: 0 $gut/2 $gut;
			@include calc(width, '50% - 30px');
		
			&:first-of-type {
				@include calc(width, '100% - 30px');
			}
		}
	}
	
	@include for(large-screens) {
		.card {
			margin: 0 $gut/2 $gut;
			@include calc(width, '33.3% - 30px');
		
			&:nth-of-type(1),
			&:nth-of-type(2) {
				@include calc(width, '50% - 30px');
			}
		}
	}
	
	@include for(xxlarge-screens) {
		margin: 0 -1*$gut/2;
	}
}

.tpl-related-post {
		
	.entry-link {
		display: block;
		width: 100%;
		position: relative;
		
		&:hover .entry-preview:after { background: rgba(0,0,0, 0.3); }
	}
	
	.entry-preview {
		@include shadowed-preview();
	}
	
	.entry-title {
		@include post-title();
		margin: 4px 0 0;
		
		span {
			margin-left: 4px;
			background: $color-white;
			color: $color-text-black;
			display: inline;
			box-shadow: 4px 0 0 $color-white, -4px 0 0 $color-white;
			box-decoration-break: clone;
			
			line-height: 24px;
		}
	}
	
	.entry-meta {
		display: inline-block;
		@include nav-text(meta);
		background: $color-text-black;
		color: $color-white;
		padding: 4px 8px;
	}
	
	.entry-data {
		z-index: 50;
		position: absolute;
		padding: $gut;
		position: left;
		bottom: 0;
	}
	
	
}



/** Single **/
.entry-header-full {
	padding: $gut 0 20px;
	
	.entry-title {
		@include header-title(section);
		@include hyphens(auto);
	}
	
	.entry-meta {
		@include nav-text(meta);
		color: $color-link-three;
		a {
			color: inherit;
			&:hover, &:focus, &:active {
				background: $color-link-two;
				color: $color-white;
				box-shadow: 3px 0 0 $color-link-two, -3px 0 0 $color-link-two;
			}
		}
	}
}

.single-post-section {
	position: relative;
		
	.entry-preview {
		position: relative;
		
	}
	
	.lead {
		margin-bottom: $base;
	}
}

.format-introvid .entry-preview,
.format-standard .entry-preview {
	margin-bottom: $gut;
}

.regular-sharing {
	position: absolute;
	width: 45px;
	height: 100%;
	top: 0;
	left: 0;
	z-index: 100;
	
	.single & .social-likes { padding-top: $gut; }
}
	
.mobile-sharing {	
	.social-likes {
		@include clearfix;
		padding: 8px 0;
	}
	
	.social-likes__widget {
		float: left;
		margin: 0 8px 0 0;
	}
}

.addon {
	margin-top: $gut*1.5;
	
	.related-title {
		border-top: 1px solid $color-border-normal;
		padding-top: $gut;
		@include for(medium-screens) {
			margin: 0 $gut $base;
		}
	}
}



/** Programms **/
.tpl-programm {
	margin-bottom: $gut;
	
	.entry-link {
		display: block;
		position: relative;
	}
	
	.entry-title {
		@include post-title();
		position: absolute;
		left: $gut/2;
		bottom: $gut/2;
		z-index: 100;
		@include calc(width, '100% - 30px');
		
		span {
			margin-left: 4px;
			background: $color-white;
			color: $color-text-black;
			display: inline;
			box-shadow: 4px 0 0 $color-white, -4px 0 0 $color-white;
			box-decoration-break: clone;
		}
	}
	
	.entry-preview {
		@include shadowed-preview();
	}
	
	&:hover .entry-preview:after { background: rgba(0,0,0, 0.3); }
}



/** People **/
.tpl-person {
	margin-bottom: $gut;
	background: $color-white;
	
	@include transition(background 0.3s);
		
	&.linked:hover {
		background: $color-secondary-alt;
		.entry-preview:after { background: rgba(0,0,0, 0.08); }
	}
	
	
	.entry-title {		
		@include post-title(small_title);
		margin-bottom: 4px;
	}
	
	.entry-preview {
		@include shadowed-preview();
	}
	
	.entry-meta {		
		@include sub-title();						
	}
	
	.entry-data {
		padding: $gut/2;
	}
	
	.people-cards-shortcode &:hover {
		background: $color-white;	
	}
	
	.people-cards-shortcode & .entry-preview:after {
		display:none;
	}
	
	.people-cards-shortcode & .entry-data {
		padding-bottom: 0;
	}
}


/** Events **/
.tpl-event {
	@extend .tpl-post;
	
	span[itemprop="address"]{
		span[itemprop="streetAddress"] { display: none; }
		span[itemprop="name"]:before {
			content: ', ';
		}
	}
}

.full-event-metas {
	margin-bottom: $gut*1.5;
	@include sub-title(extend);
	color: $color-text-black;
	
	p:last-of-type { margin-top: 8px;}
	
	span[itemprop="addressLocality"] + span[itemprop="name"],
	span[itemprop="addressLocality"] + span[itemprop="streetAddress"],
	span[itemprop="streetAddress"] + span[itemprop="name"] {
		&:before { content: ', '; }
	}
}




/** Partners **/
.tpl-org {
	position: relative;
			
	.logo-link {
		display: block;		
		width: 100%;
		height: 0;
		padding-bottom: 60%;
		position: relative;
		
		
		span {
			display: block;	
			width: 100%;
			height: 100%;
			position: absolute;
			top: 0;
			left: 0;
			vertical-align: middle;
			line-height: 130px;
		}
	}
	
	img {
		max-width: 100%;
		max-height: 100%;
		vertical-aling: middle;
		width: auto;
		height: auto;
	}
}