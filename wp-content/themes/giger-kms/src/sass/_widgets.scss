/** Widgets **/


.widget {	
	margin-bottom: $gut;
	&:last-of-type { margin-bottom: 0; }
	
	& > h3, .widget-title {
		margin-bottom: $base;		
		@include header-title(widget);		
	}
	
	.textwidget {
		font-size: 0.9em;
		
		p:last-child { margin-bottom: 0; }
		
		h5 {
			@include post-title(small_title);
			margin-bottom: $base;
			&:last-child { margin-bottom :0;}
		}
		
	}
	
	.ghost-button {
		@include ghost-button(14px, $color-link-three, $color-white);
	}
		
	p { //temp		
		margin-bottom: $gut/2;
	}
	
	&.red {
		background: $color-link-one;
		padding: $gut/2;
		color: rgba(255,255,255, 0.98);
		h3, .widget-title, h5 { color: inherit; }
		
		a { color: $color-white; }
		
		.ghost-button {
			margin-top: $base;
			@include ghost-button(16px, $color-white, $color-link-three);
		}
		
		.button  {
			@include button(white);
		}
	}
	
	&.text-center {
		text-align: center;
	}
	
}

.widget_nav_menu {
	@include nav-text();	
	li { margin-bottom: $base/2; }
	
	.hide-on-large & {
		margin-bottom: 0;
		li {
			display: inline-block;
			margin: 0 18px 9px 0;
		}
	}
}

.donation_cta {
	text-align: center;
	
	h3, .widget-title, h5 { color: inherit; }
	
	h5 {
		@include post-title(small_title);
		margin-bottom: $base;
		&:last-child { margin-bottom :0;}
	}
	
	
}



/** Page builder widgets **/
.so-panel.widget_nav_menu {
	
	ul {
		margin: 0;
	}
	
	li {
		list-style-type: none;
		&:before { display: none; }
	}
	
	a {
		display: inline-block;
		font-size: 1.2em;
		padding: 5px 12px;
		white-space: nowrap; 
	}
	
	.current-menu-item {
		a {
			background: $color-link-one;
			color: $color-white;
		}
	}
	
	.inpage-h-menu {
		ul { margin-left: -12px; }
		
		li {
			display: inline-block;
			margin: 0;
			padding: 0;
			
			&.current-menu-item:first-child {
				margin-left: 12px;
			}
			
			a {
				padding: 5px 12px;
			}
		}		
	}
}

.tpl-page-fullwidth {
	margin-bottom: $gut*1.5;
	overflow-x: hidden;
	position: relative;
}

.taxonomy-intro {
	overflow-x: hidden;
	position: relative;
}

//rows and widgets modifiers
.panel-grid {
	.container-extended  { //for string
		@include container-extended();		
	}
	
	.container-narrowed { // for widget in the center
		max-width: 900px;
		margin: 0 auto;
	}
	
	.no-bottom-margin.panel-cell-style .so-panel.widget { //no margin after widget
		margin-bottom: 0 !important;
	}
	
	.content-center { //center widget text
		text-align: center;
	}
	
	.center-titleonly {
		.widget-title { text-align: center; }
	}
	
	.colored-row { //grey row  of normal width
		padding: $gut;
		background: $color-secondary;
	}
	
	.colored-red { //grey row  of normal width
		padding: $gut;
		background: $color-link-one;
		color: $color-white;
		p,h1, h2, h3, h4, h5, h6, li, a {
			color: $color-white;
		}
		
		.button-white  {
			color: $color-link-one;
			&:visited, &:hover { color: $color-link-one; }
		}
	}
	
	.colored-black {
		padding: $gut;
		background: rgba(0,0,0, 0.7);
		color: $color-white;
		p,h1, h2, h3, h4, h5, h6, li, a {
			color: $color-white;
		}
		
		.button-white  {
			color: $color-text-black;
			&:visited { color: $color-text-black; }
			&:hover { color: $color-text-black; }
		}
	}
	
	.back-to-container div[class *= "so-widget-"]{ //widget limited to container width
		max-width: $page_cont;
		margin: 0 auto;
	}
}




//colored bg
.container-extended-colored {
	@include container-extended();
	background: $colored-block-bg;
	padding-top: $gut*1.5;
	padding-bottom: $gut*1.5;
	color: $colored-block-text;
	
	h1, h2, h3, h4, h5, h6, li {
		color: $colored-block-text;
	}
	
	a {
		color: $color-link-three;
		
		&:hover, &:focus, &:active {
			color: lighten( $color-link-three, 10%);
		}
	}	
}

//pictured bg
.container-extended-pictured {
	@include container-extended();
	padding-top: $gut*1.5;
	padding-bottom: $gut*1.5;
		
	.text-white {
		padding: $gut 0;
		
		h1, h2, h3, h4, h5, h6, li, p { color: $color-white; }
		color: $color-white;
		
		a {
			color: $color-white;
			text-decoration: underline;
			
			&:hover, &:focus, &:active {
				background: $color-link-one;				
			}
		}
	}
}

//cta
.container-cta {
	//border-top: 6px solid $color-link-three;
	//border-bottom: 6px solid $color-link-three;
	padding: $base*3 0 0;
	text-align: center;
		
	
	h4 { margin: 0; }
	h4 + p {
		margin-top: $base;
	}
}

.tst-button,
.button {
	@include button();
}

.button-white {
	@include button(white);	
}

//section title
.pb-section-title {
	
	&.align-left {
		text-align: left;
	}
	
	&.align-right {
		text-align: right;
	}
	
	&.align-center {
		text-align: center;
	}
	
	h3 {
		@include header-title(head_title);		
		margin: 0;		
	}
	
	h4 {
		@include post-title(featured);
		margin: 0;
	}
	
	h3 + h4 {
		@include post-title();
		margin-top: 1em;
	}
	
	&.page-header {
		padding-top: $gut*2;
		
		h3 {
			@include header-title(section);
		}
	}
	
}


/* intro section */

//page with cards
.intro-head-image {
	@include vertical-image-header-fixed();
	@include container-extended();
	
	&.text-over-image {
		height: 400px;
	
		@include for(small-screens) {
			height: 440px;
		}
		
		@include for(medium-screens) {
			height: 480px;
		}
		
		@include for(large-screens) {
			height: 520px;
		}
	}
}

.tpl-pictured-bg {
	width: 100%;
	height: 100%;
	background-color: $color-secondary;
	background-repeat: no-repeat;
	background-size: cover;
	background-position: center top;
}


.intro-head-content {
			
	.ihc-title {
		display: inline-block;		
		@include header-title(section);		
		margin-bottom: $base;		
	}
	
	.ihc-content {
		position: relative;
		margin-top: -70px;
		border-bottom: 1px solid $color-border-normal;
		padding-bottom: $base;
	}
		
	p:last-child { margin-bottom: 0;}
	
	.md-4 {
		@include for(medium-screens) { text-align: right; }
		a { @include button();	}
	}
	
	&.text-below-image {
		
		.ihc-content {
			background: transparentize($color-link-one, 0.1);
			color: $color-white;
			padding: $base;
			border: none;
		}
		
		.ihc-title {
			color: $color-white;
			a { color: $color-white; }			
		}
		
		.ihc-desc {
			@include body-text();
			color: $color-white;					
		}
		
		.md-4 a { @include ghost-button(16px,  #fff, $color-link-one);  } 
	}
	
	
	
	&.text-over-image {
		height: 1px;
		
		.ihc-content {
			padding-bottom: $gut*1.5;
			max-width: 800px;
			margin: 0;			
			z-undex: 500;
			positon: absolute;
			top: 0;
			@include transform(translateY(-100%));
			& > a { display: block; }
		}
		
		.ihc-title {
			background: transparent;			
			padding: 0;
			
			span {
				color: $color-white;
				background: transparentize($color-white, 0.15);
				display: inline-block;
				padding: 8px 0;
				box-shadow: 8px 0 0 transparentize($color-white, 0.15), -8px 0 0 transparentize($color-white, 0.15);
				margin-left: 8px;
				color: $color-link-one;
			}
		}
		
		.ihc-desc {
			@include body-text();
			padding: 8px;
			background: transparentize($color-white, 0.05);
			
			h2, h3, h4, h5, h6 {  }
		}
		
		.cta {
			a { @include button(); }
			margin-top: $base;
		}
	}
}

.homepage-intro .intro-head-content .ihc-content {
	border-bottom: none;	
}

.intro-head-content + .mobile-sharing {
	margin-top: $base - 8px;
}


/** Donation **/
.so-widget-tst-donationhystory {
	.all-link {
		margin-top: $base;
		font-size: 0.8em;
	}
}


/** Quotes **/
.tst-quote {
	padding-left: 44px;
	
	.tq-image {
		width: 90px;
		height: 90px;
		border-radius: 50%;
		float: left;
		
		img {
			max-width: 100%;
			height: auto;
			border-radius: 50%;
		}	
	}
	
	.tq-source-label {
		cite {
			display: block;
			@include post-title(small_title_bold);			
		}
		
		i {
			@include sub-title(extend);
		}
	}
	
	.tq-content {		
		position: relative;
		font-style: italic;
		
		&:before {
			content: 'â€œ';
			font-family: Georgia, serif;
			font-style: normal;
			font-size: 90px;
			line-height: 1;
			position: absolute;
			color: $color-link-one;
			left: -44px;
			top: -10px;
		}		
		
	}
	
	.tq-source {
		margin-top: $base;
		@include clearfix;	
	}
	
	.tq-image + .tq-source-label {
		margin-left: 110px;
		padding-top: 14px;
	}
}


/** Double block **/
.doubleblock-section {
	
	.dbs-row {
		
	}
	
	.dbs-cell {
		margin: 0;
	}
	
	.picture {
		min-height: 280px;		
	}
	
	.picture-url {
		display: block;
		width: 100%;
		height: 100%;
		min-height: 280px;
	}
	
	.tpl-pictured-bg {
		min-height: 280px;
	}
	
	.content {
		padding: $gut;	
	}
	
	.dbs-title {
		@include post-title(featured);
		margin-bottom: $gut;
	}
	
	.dbs-text {
		margin-bottom: $gut;
	}
	
	.dbs-link {
		margin-top: $gut/2;
	}
	
	.dbs-row:nth-of-type(1) {
		.content {
			background: $color-link-one;
			color: $color-white;
		}
		
		.dbs-title {
			color: $color-white;
		}
		
		.dbs-link a {
			@include button(white);
		}
	}
	
	.dbs-row:nth-of-type(2) {
		.content {
			background: $color-secondary;
		}
		
		.dbs-link a {
			@include button();
		}
	}
	
	@include for(medium-screens) {
		.dbs-row {
			display: flex;
			flex-flow: row nowrap;
			justify-content: flex-start;
			align-items: stretch;
		}
	
		.dbs-cell {
			width: 50%;
		}
		
		.picture,	
		.picture-url, 
		.tpl-pictured-bg {
			min-height: 330px;
		}
	}
}


/** formidable **/
.frm_form_widget {
	.widget-title {
		display: none;
		margin: 0;
	}
	
	.frm_forms  {
		margin: 0;
	}
}
