/** == Map (_map.scss) == **/

/** Maps **/

.pw_map-wrap {
  position: relative;
  //border: 3px solid $moss;
  //border-radius: 2px;
  //box-shadow: 2px 2px 3px rgba(200, 200, 200, 0.4);

  .material-icons {
    font-size: 30px;

    &.black {
      color: $ground;
    }
    &.red {
      color: darken($color-form-invalid, 10%);
    }
    &.orange {
      color: $loam;
    }
    &.dark-pink {
      color: lighten($color-form-invalid, 15%);
    }
    &.sand {
      color: lighten($loam, 20%);
    }
    &.green {
      color: $grass;
    }
    &.grey-green {
      color: darken($wetsoil, 0%);
    }
  }

  .pw_map_canvas {

    .marker-cluster-small {
      background-color: transparentize($grass, 0.6);

      div {
        background-color: transparentize($grass, 0);
      }
    }

    .marker-cluster-medium {
      background-color: transparentize($pollen, 0.6);

      div {
        background-color: transparentize($pollen, 0);
      }
    }

    .marker-cluster-large {
      background-color: transparentize($loam, 0.6);

      div {
        background-color: transparentize($loam, 0);
      }
    }

    .leaflet-popup-content-wrapper {
      border-radius: 3px;
    }
    .marker-content {

      .material-icons {
        font-size: 16px;
        color: $grass;
      }

      .mc-title {
        font-weight: bold;
        margin-bottom: 2*$base;
      }

      .mc-address {
        display: flex;
        align-items: center;
        margin-bottom: $base;

        .material-icons {
          margin-right: $base/2;
        }
      }
    }
  }

}

.pw_map_legend {

  cursor: default;
  margin: 0;
  background-color: rgba(255, 255, 255, 0.95);
  width: 100%;
  text-align: left;

  display: flex;
  flex-direction: column;

  @include for(small-screens) {
    padding: 2*$base 0;
  }
  @include for(large-screens) {
    padding: 2*$base 4*$base;
  }

  border: 1px solid $grass;
  border-top: 1px dashed $grass;

  .legend-header {

    margin: 0 $base $base 3*$base;

    .legend-title {
      font-size: 20px;
      font-weight: bold;
      margin-bottom: $base/2;
    }
    .legend-subtitle {
      font-size: 12px;
      line-height: 2*$base;
    }
  }

  ul.markers-map-legend {

    display: flex;
    flex-wrap: wrap;
    //justify-content: center;
    align-items: flex-start;

    list-style: none;

    .mymap-icon.material-icons {
      margin-right: $base;
      vertical-align: middle;
    }

    &.is-filter .interactive {
      cursor: pointer;
    }

    li::before {
      content: '';
    }

    > li {

      margin: 0 $base;

      @include for(exlarge-screens) {
        &:not(:last-child) {
          border-right: 1px solid $grass;
        }
      }

    }

    li.legend-parent {
      padding: $base $base;
      margin-bottom: 0;
    }

    ul.children-groups-list {
      display: flex;
      flex-wrap: wrap;
      margin-left: 4*$base;
      list-style: none;
    }

    li.legend-child {
      flex: 0 1 200px;
      align-items: flex-start;
      padding: $base $base;
      margin-bottom: 0;
    }

    @include for(large-screens) {
      &.is-filter li.interactive:hover { // Hover event behaviors wierdly on mobiles
        background-color: $pollen;
        color: $color-white;

        .material-icons {
          color: $color-white;
        }
      }
    }

    &.is-filter li.interactive.marker-group-active {
      background-color: $pollen;
      color: $color-white;

      .material-icons {
        color: $color-white;
      }
    }

  }

}

#marker-submit-form-wrapper {

  display: flex;
  justify-content: center;

  .frm_forms {

    @include for(small-screens) {
      width: 90%;
    }
    @include for(medium-screens) {
      width: 60%;
    }
    @include for(large-screens) {
      width: 50%;
    }

    .frm_form_title {
      @include block-title();
      padding: $base*6 0 $base*5;
      text-align: center;

      @include for(medium-screens) {
        padding-top: $base*12;
      }
    }
    .frm_description {
      font-size: 13px;
      margin-bottom: 2*$base;

      p:not(:last-child) {
        margin-bottom: $base;
      }
    }

    //.frm_form_field {
    //  border: 1px solid $grass;
    //  padding: 3*$base;
    //  margin: 0;
    //  margin-top: -1px;
    //}
  }

  .tst-file-upload {
    margin-top: $base;
  }

}